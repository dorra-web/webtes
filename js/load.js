!function(a){a.fn.pbtStickySidebar=function(b){function c(a,b){return!0===a.initialized|| !($("body").width()<a.minWidth)&&(d(a,b),!0)}function d(a,b){a.initialized=!0,b.each(function(){let b={};if(b.sidebar=$(this),b.options=a||{},b.container=$(b.options.containerSelector),0==b.container.length&&(b.container=b.sidebar.parent()),b.sidebar.parent().css("-webkit-transform","none"),b.sidebar.css({position:b.options.defaultPosition,overflow:"visible","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box"}),b.stickySidebar=b.sidebar.find(".pbtStickySidebar"),0==b.stickySidebar.length){var f,g,i=/(?:text|application)\/(?:x-)?(?:javascript|ecmascript)/i;b.sidebar.find("script").filter(function(b,a){return 0===a.type.length||a.type.match(i)}).remove(),b.stickySidebar=$("<div>").addClass("pbtStickySidebar").append(b.sidebar.children()),b.sidebar.append(b.stickySidebar)}b.marginBottom=parseInt(b.sidebar.css("margin-bottom")),b.paddingTop=parseInt(b.sidebar.css("padding-top")),b.paddingBottom=parseInt(b.sidebar.css("padding-bottom"));let c=b.stickySidebar.offset().top,d=b.stickySidebar.outerHeight();function h(){b.fixedScrollTop=0,b.sidebar.css({"min-height":"1px"}),b.stickySidebar.css({position:"static",width:"",transform:"none"})}b.stickySidebar.css("padding-top",1),b.stickySidebar.css("padding-bottom",1),c-=b.stickySidebar.offset().top,d=b.stickySidebar.outerHeight()-d-c,0==c?(b.stickySidebar.css("padding-top",0),b.stickySidebarPaddingTop=0):b.stickySidebarPaddingTop=1,0==d?(b.stickySidebar.css("padding-bottom",0),b.stickySidebarPaddingBottom=0):b.stickySidebarPaddingBottom=1,b.previousScrollTop=null,b.fixedScrollTop=0,h(),b.onScroll=function(b){if(!b.stickySidebar.is(":visible"))return;if($("body").width()<b.options.minWidth||b.options.disableOnResponsiveLayouts&&b.sidebar.outerWidth("none"==b.sidebar.css("float"))+50>b.container.width()){h();return}let d=$(document).scrollTop(),g="static",c=0;if(d>=b.sidebar.offset().top+(b.paddingTop-b.options.additionalMarginTop)){let k,n=b.paddingTop+a.additionalMarginTop,o=b.paddingBottom+b.marginBottom+a.additionalMarginBottom,p=b.sidebar.offset().top,q=b.sidebar.offset().top+(k=(v=b.container).height(),v.children().each(function(){k=Math.max(k,$(this).height())}),k),j=0+a.additionalMarginTop,i,r=b.stickySidebar.outerHeight()+n+o<$(window).height();i=r?j+b.stickySidebar.outerHeight():$(window).height()-b.marginBottom-b.paddingBottom-a.additionalMarginBottom;let s=p-d+b.paddingTop,t=q-d-b.paddingBottom-b.marginBottom;c=b.stickySidebar.offset().top-d;let l=b.previousScrollTop-d;"fixed"==b.stickySidebar.css("position")&&"modern"==b.options.sidebarBehavior&&(c+=l),"stick-to-top"==b.options.sidebarBehavior&&(c=a.additionalMarginTop),"stick-to-bottom"==b.options.sidebarBehavior&&(c=i-b.stickySidebar.outerHeight()),c=l>0?Math.min(c,j):Math.max(c,i-b.stickySidebar.outerHeight()),c=Math.max(c,s),c=Math.min(c,t-b.stickySidebar.outerHeight());var v,m=b.container.height()==b.stickySidebar.outerHeight();g=(m||c!=j)&&(m||c!=i-b.stickySidebar.outerHeight())?d+c-b.sidebar.offset().top-b.paddingTop<=a.additionalMarginTop?"static":"absolute":"fixed"}if("fixed"==g){let u=$(document).scrollLeft();b.stickySidebar.css({position:"fixed",width:e(b.stickySidebar)+"px",transform:"translate3d(0, "+c+"px, 0)",left:b.sidebar.offset().left+parseInt(b.sidebar.css("padding-left"))-u+"px",top:"0px"})}else if("absolute"==g){let f={};"absolute"!=b.stickySidebar.css("position")&&(f.position="absolute",f.transform="translate3d(0, "+(d+c-b.sidebar.offset().top-b.stickySidebarPaddingTop-b.stickySidebarPaddingBottom)+"px, 0)",f.top="0px"),f.width=e(b.stickySidebar)+"px",f.left="",b.stickySidebar.css(f)}else"static"==g&&h();"static"!=g&& !0==b.options.updateSidebarHeight&&b.sidebar.css({"min-height":b.stickySidebar.outerHeight()+b.stickySidebar.offset().top-b.sidebar.offset().top+b.paddingBottom}),b.previousScrollTop=d},b.onScroll(b),$(document).on("scroll."+b.options.namespace,(f=b,function(){f.onScroll(f)})),$(window).on("resize."+b.options.namespace,(g=b,function(){g.stickySidebar.css({position:"static"}),g.onScroll(g)}))})}function e(b){let a;try{a=b[0].getBoundingClientRect().width}catch(c){}return void 0===a&&(a=b.width()),a}return(b=a.extend({containerSelector:"",additionalMarginTop:0,additionalMarginBottom:0,updateSidebarHeight:!0,minWidth:0,disableOnResponsiveLayouts:!0,sidebarBehavior:"modern",defaultPosition:"relative",namespace:"PBT"},b)).additionalMarginTop=parseInt(b.additionalMarginTop)||0,b.additionalMarginBottom=parseInt(b.additionalMarginBottom)||0,function(a,b){let d=c(a,b);if(!d){var e,f,g,h;console.log("PBT: Body width smaller than options.minWidth. Init is delayed."),$(document).on("scroll."+a.namespace,(e=a,f=b,function(a){let b=c(e,f);b&&$(this).unbind(a)})),$(window).on("resize."+a.namespace,(g=a,h=b,function(a){let b=c(g,h);b&&$(this).unbind(a)}))}}(b,this),this}}(jQuery);

!function(i){i.fn.theiaStickySidebar=function(t){var e,o,a,s,n;function d(t,e){return!0===t.initialized||!(i("body").width()<t.minWidth)&&(function(t,e){t.initialized=!0,0===i("#theia-sticky-sidebar-stylesheet-"+t.namespace).length&&i("head").append(i('<style id="theia-sticky-sidebar-stylesheet-'+t.namespace+'">.theiaStickySidebar:after {content: ""; display: table; clear: both;}</style>')),e.each(function(){var e={};if(e.sidebar=i(this),e.options=t||{},e.container=i(e.options.containerSelector),0==e.container.length&&(e.container=e.sidebar.parent()),e.sidebar.parent().css("-webkit-transform","none"),e.sidebar.css({position:e.options.defaultPosition,overflow:"visible","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box"}),e.stickySidebar=e.sidebar.find(".theiaStickySidebar"),0==e.stickySidebar.length){var o=/(?:text|application)\/(?:x-)?(?:javascript|ecmascript)/i;e.sidebar.find("script").filter(function(i,t){return 0===t.type.length||t.type.match(o)}).remove(),e.stickySidebar=i("<div>").addClass("theiaStickySidebar").append(e.sidebar.children()),e.sidebar.append(e.stickySidebar)}e.marginBottom=parseInt(e.sidebar.css("margin-bottom")),e.paddingTop=parseInt(e.sidebar.css("padding-top")),e.paddingBottom=parseInt(e.sidebar.css("padding-bottom"));var a,s,n,d=e.stickySidebar.offset().top,c=e.stickySidebar.outerHeight();function p(){e.fixedScrollTop=0,e.sidebar.css({"min-height":"1px"}),e.stickySidebar.css({position:"static",width:"",transform:"none"})}e.stickySidebar.css("padding-top",1),e.stickySidebar.css("padding-bottom",1),d-=e.stickySidebar.offset().top,c=e.stickySidebar.outerHeight()-c-d,0==d?(e.stickySidebar.css("padding-top",0),e.stickySidebarPaddingTop=0):e.stickySidebarPaddingTop=1,0==c?(e.stickySidebar.css("padding-bottom",0),e.stickySidebarPaddingBottom=0):e.stickySidebarPaddingBottom=1,e.previousScrollTop=null,e.fixedScrollTop=0,p(),e.onScroll=function(e){if(e.stickySidebar.is(":visible"))if(i("body").width()<e.options.minWidth)p();else{if(e.options.disableOnResponsiveLayouts)if(e.sidebar.outerWidth("none"==e.sidebar.css("float"))+50>e.container.width())return void p();var o,a,s=i(document).scrollTop(),n="static";if(s>=e.sidebar.offset().top+(e.paddingTop-e.options.additionalMarginTop)){var d,c=e.paddingTop+t.additionalMarginTop,b=e.paddingBottom+e.marginBottom+t.additionalMarginBottom,l=e.sidebar.offset().top,h=e.sidebar.offset().top+(o=e.container,a=o.height(),o.children().each(function(){a=Math.max(a,i(this).height())}),a),f=0+t.additionalMarginTop;d=e.stickySidebar.outerHeight()+c+b<i(window).height()?f+e.stickySidebar.outerHeight():i(window).height()-e.marginBottom-e.paddingBottom-t.additionalMarginBottom;var g=l-s+e.paddingTop,S=h-s-e.paddingBottom-e.marginBottom,m=e.stickySidebar.offset().top-s,y=e.previousScrollTop-s;"fixed"==e.stickySidebar.css("position")&&"modern"==e.options.sidebarBehavior&&(m+=y),"stick-to-top"==e.options.sidebarBehavior&&(m=t.additionalMarginTop),"stick-to-bottom"==e.options.sidebarBehavior&&(m=d-e.stickySidebar.outerHeight()),m=0<y?Math.min(m,f):Math.max(m,d-e.stickySidebar.outerHeight()),m=Math.max(m,g),m=Math.min(m,S-e.stickySidebar.outerHeight());var u=e.container.height()==e.stickySidebar.outerHeight();n=!u&&m==f||!u&&m==d-e.stickySidebar.outerHeight()?"fixed":s+m-e.sidebar.offset().top-e.paddingTop<=t.additionalMarginTop?"static":"absolute"}if("fixed"==n){var k=i(document).scrollLeft();e.stickySidebar.css({position:"fixed",width:r(e.stickySidebar)+"px",transform:"translateY("+m+"px)",left:e.sidebar.offset().left+parseInt(e.sidebar.css("padding-left"))-k+"px",top:"0px"})}else if("absolute"==n){var v={};"absolute"!=e.stickySidebar.css("position")&&(v.position="absolute",v.transform="translateY("+(s+m-e.sidebar.offset().top-e.stickySidebarPaddingTop-e.stickySidebarPaddingBottom)+"px)",v.top="0px"),v.width=r(e.stickySidebar)+"px",v.left="",e.stickySidebar.css(v)}else"static"==n&&p();"static"!=n&&1==e.options.updateSidebarHeight&&e.sidebar.css({"min-height":e.stickySidebar.outerHeight()+e.stickySidebar.offset().top-e.sidebar.offset().top+e.paddingBottom}),e.previousScrollTop=s}},e.onScroll(e),i(document).on("scroll."+e.options.namespace,(a=e,function(){a.onScroll(a)})),i(window).on("resize."+e.options.namespace,(s=e,function(){s.stickySidebar.css({position:"static"}),s.onScroll(s)})),"undefined"!=typeof ResizeSensor&&new ResizeSensor(e.stickySidebar[0],(n=e,function(){n.onScroll(n)}))})}(t,e),!0)}function r(i){var t;try{t=i[0].getBoundingClientRect().width}catch(i){}return void 0===t&&(t=i.width()),t}return(t=i.extend({containerSelector:"",additionalMarginTop:0,additionalMarginBottom:0,updateSidebarHeight:!0,minWidth:0,disableOnResponsiveLayouts:!0,sidebarBehavior:"modern",defaultPosition:"relative",namespace:"TSS"},t)).additionalMarginTop=parseInt(t.additionalMarginTop)||0,t.additionalMarginBottom=parseInt(t.additionalMarginBottom)||0,d(e=t,this)||(console.log("TSS: Body width smaller than options.minWidth. Init is delayed."),i(document).on("scroll."+e.namespace,(s=e,n=this,function(t){d(s,n)&&i(this).unbind(t)})),i(window).on("resize."+e.namespace,(o=e,a=this,function(t){d(o,a)&&i(this).unbind(t)}))),this}}(jQuery);
